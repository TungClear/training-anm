<!-- Thêm mới account  -->
<mat-card class="dialog-section">
  <mat-card-content>
    <h2>{{data.formMode === 'add' ? 'Thêm account' : data.formMode === 'edit' ? 'Sửa account' : 'Chi tiết account'}}</h2>

    <form [formGroup]="userDetailsForm" >
      <div class="row">
        <div class="col mr-4">
          <mat-form-field class="full-width">
            <input matInput placeholder="Account Number" formControlName="account_number" type="number" required >
            <mat-error *ngFor="let validation of validation_messages.account_number">
              <mat-error
                class="error-message"
                *ngIf="userDetailsForm.get('account_number').hasError(validation.type) && (userDetailsForm.get('account_number').dirty || userDetailsForm.get('account_number').touched)"
              >
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="First Name" formControlName="firstname" required >
            <mat-error *ngFor="let validation of validation_messages.firstname">
              <mat-error
                class="error-message"
                *ngIf="userDetailsForm.get('firstname').hasError(validation.type) && (userDetailsForm.get('firstname').dirty || userDetailsForm.get('firstname').touched)"
              >
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Last Name" formControlName="lastname" required >
            <mat-error *ngFor="let validation of validation_messages.lastname">
              <mat-error
                class="error-message"
                *ngIf="userDetailsForm.get('lastname').hasError(validation.type) && (userDetailsForm.get('lastname').dirty || userDetailsForm.get('lastname').touched)"
              >
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Balance" formControlName="balance" required type="number" >
            <mat-error *ngFor="let validation of validation_messages.balance">
              <mat-error
                class="error-message"
                *ngIf="userDetailsForm.get('balance').hasError(validation.type) && (userDetailsForm.get('balance').dirty || userDetailsForm.get('balance').touched)"
              >
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Age" formControlName="age" required type="number" >
            <mat-error *ngFor="let validation of validation_messages.age">
              <mat-error
                class="error-message"
                *ngIf="userDetailsForm.get('age').hasError(validation.type) && (userDetailsForm.get('age').dirty || userDetailsForm.get('age').touched)"
              >
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <mat-select placeholder="Gender" formControlName="gender">
              <mat-option *ngFor="let gender of genders" [value]="gender">
                {{ gender === 'M' ? 'Male' : 'Female' }}
              </mat-option>
            </mat-select>
            <mat-error *ngFor="let validation of validation_messages.gender">
              <mat-error class="error-message" *ngIf="userDetailsForm.get('gender').hasError(validation.type) && (userDetailsForm.get('gender').dirty || userDetailsForm.get('gender').touched)">{{validation.message}}</mat-error>
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field class="full-width">
            <input matInput placeholder="Address" formControlName="address" required >
            <mat-error *ngFor="let validation of validation_messages.address">
              <mat-error
                class="error-message"
                *ngIf="userDetailsForm.get('address').hasError(validation.type) && (userDetailsForm.get('address').dirty || userDetailsForm.get('address').touched)"
              >
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Employer" formControlName="employer" required >
            <mat-error *ngFor="let validation of validation_messages.employer">
              <mat-error
                class="error-message"
                *ngIf="userDetailsForm.get('employer').hasError(validation.type) && (userDetailsForm.get('employer').dirty || userDetailsForm.get('employer').touched)"
              >
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Email" formControlName="email" required >
            <mat-error *ngFor="let validation of validation_messages.email">
              <mat-error
                class="error-message"
                *ngIf="userDetailsForm.get('email').hasError(validation.type) && (userDetailsForm.get('email').dirty || userDetailsForm.get('email').touched)"
              >
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="City" formControlName="city" required >
            <mat-error *ngFor="let validation of validation_messages.city">
              <mat-error
                class="error-message"
                *ngIf="userDetailsForm.get('city').hasError(validation.type) && (userDetailsForm.get('city').dirty || userDetailsForm.get('city').touched)"
              >
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="State" formControlName="state" required >
            <mat-error *ngFor="let validation of validation_messages.state">
              <mat-error
                class="error-message"
                *ngIf="userDetailsForm.get('state').hasError(validation.type) && (userDetailsForm.get('state').dirty || userDetailsForm.get('state').touched)"
              >
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <button
        class="submit-btn"
        color="primary"
        mat-raised-button type="submit"
        style="margin-right: 1rem;"
        [disabled]="!userDetailsForm.valid"
        *ngIf="data.formMode !== 'view'"
        (click)="onSubmitUserDetails()"
      >
        Lưu
      </button>
      <button
        mat-flat-button color="warn"
        (click)="onClickFormCancel()"
      >
      {{data.formMode === 'add' ? 'Hủy' : data.formMode === 'edit' ? 'Hủy' : 'Đóng'}}
      </button>
    </form>
  </mat-card-content>
</mat-card>
